如下使用MATEBOOK PRO验证，双系统，已有系统为WIN10，要安装的新系统为UBUNTU 16.04

# 安装关键点：
- WIN10下调整出50G的硬盘
- U盘安装
- 选择和WIN10共享是选择自定义
- 创建空间 1）10G主磁盘，EX4日志 2）8G逻辑分区，swap 3）500M逻辑分区，EX4日志，/boot 4）其余逻辑分区，EX4日志，/home 5）启动区选/boot
- 用F12来确定启动哪套系统

# 蓝牙鼠标发现问题：
> 取消对应的配对，用如下命令行配对
```
$ sudo -i
# bluetoothctl
[bluetooth]# power off
[bluetooth]# power on
[bluetooth]# scan on
[bluetooth]# connect XX:XX:XX:XX:XX:XX
[Arc Touch Mouse SE]# trust
[Arc Touch Mouse SE]# pair
[Arc Touch Mouse SE]# unblock
[Arc Touch Mouse SE]# power off
[bluetooth]# power on
```

> win10 ubuntu16 双系统共用蓝牙鼠标: https://blog.csdn.net/10km/article/details/61201268
教程开始(开始操作之前最好先删除掉两个系统下的所有曾经连接过的蓝牙设备，方便下面操作)：

1. 在Linux进行蓝牙配对（目的是生成蓝牙默认配置文件），需要先修改/etc/bluetooth/main.conf文件， 

1. 去掉行[Policy]和AutoEnable前的注释；

2. 将AutoEnable=false改为AutoEnable=true；

3. 然后搜索到蓝牙鼠标后配对，开机或唤醒后都可以自动连接；

2. windows下进行蓝牙配对 

1. 在蓝牙鼠标配对完成后，下载PSEXEC.exe工具；
https://technet.microsoft.com/en-us/sysinternals/bb897553，解压；
2. 小娜搜索框输入cmd，右键点击CMD选择管理员打开，进入上一步解压目录，执行命令psexec.exe -s -i regedit之后会自动打开windows的注册表；
3. 打开注册表如下节点 
\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTHPORT\Parameters\Keys\xxxxxxxxxxxx\yyyyyyyyyyyy , 其中xxxxxxxxxxxx\yyyyyyyyyyyy是代表电脑端蓝牙和蓝牙鼠标的地址，不同电脑不同，（如果电脑连接过多个蓝牙设备，xxxxxxxxxxxx\下可能有多个地址，此时可在\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Devices下面找，点进去之后name键值打开可以显示蓝牙名，找到需要配置的蓝牙鼠标之后即可确定鼠标的蓝牙地址），将此蓝牙地址记录下来备用；

4. 记录下如下几个参数的值：
罗技：CSRK, IRK, LTK, EDIV, ERand,其中EDIV和ERand需要10进制；
小米：IRK, LTK, EDIV, ERand,其中EDIV和ERand需要10进制；
（有些蓝牙设备可能稍有区别，比如微软的Designer鼠标是下面这些值：CSRK, LSK, LTK, EDIV, ERand,EDIV和ERand，这种情况请参考参考2的方法)
 
3. 重启进入linux（此时之前生效的鼠标应该是变得无法使用了），需要做出如下修改，以下操作需要超级权限，请先su获取权限： 

打开/var/lib/bluetooth/XX:XX:XX:XX:XX:XX/YY:YY:YY:YY:YY:YY/info文件，
（其中 XX:XX:XX:XX:XX:XX/YY:YY:YY:YY:YY:YY为电脑端蓝牙地址和鼠标蓝牙地址），一般蓝牙鼠标重新配对之后蓝牙地址会发生变化，所以第3步中的蓝牙地址可能和windows下的地址有所不同，需要修改成和windows下相同的蓝牙地址。如果曾经连接过多个蓝牙设备的话可能分不清到底哪个才是要操作的蓝牙鼠标，此时请根据蓝牙地址目录下的info文件中的Name，即蓝牙名，确认到底哪个是要配置的蓝牙鼠标，然后将此蓝牙地址改为和windows下相同的蓝牙地址。修改info文件中如下几个参数的值： 

[IdentityResolvingKey]Key=5B2C317457D00E6E620138144445F379 #数值等于Windows下的IRK值的大写
[LocalSignatureKey]Key=32E104379C996CEA2C6644447E91A194 # 数值等于Windows下的CSRK值的大写(小米鼠标无此项)
Counter=0
Authenticated=false
[LongTermKey]Key=739D70BA444422221101B2C4BC8127DC # 数值等于Windows下的LTK值的大写
Authenticated=0
EncSize=16  # 这里数值是16
EDiv=42412  # 数值等于Windows下的EDIV值的10进制
Rand=421034444974856015 # 数值等于Windows下的ERand值的10进制

4. 重启蓝牙服务service bluetooth restart,或者重启机器，之后就能在linux下使用鼠标了。

## 小配置
-- WIN+D最小化所有窗口:在设置-外观中设置，勾上Add show desktop icon to the launcher
-- 应用市场:kylin软件中心
Ubuntu12.04和Windows7双系统总是发现在关机或者重启的时候，无法关掉电源，只能按电脑的电源按钮才可以强行关掉， 最后通过以下办法才解决。

    首先编辑/etc/default/grub文件，再该文件下查找GRUB_CMDLINE_LINUX=""一行，修改为：

    GRUB_CMDLINE_LINUX="reboot=efi"

    然后执行如下命令：


[plain] view plain copy
sudo update-grub  
    更新/boot/grub/grub.cfg文件。

    注：更新完了之后，默认grub菜单的选择时间为10秒，可以按照自己的需求修改。
