如下使用MATEBOOK PRO验证，双系统，已有系统为WIN10，要安装的新系统为UBUNTU 16.04

# 安装关键点：
- WIN10下调整出50G的硬盘
- U盘安装
- 选择和WIN10共享是选择自定义
- 创建空间 1）10G主磁盘，EX4日志 2）8G逻辑分区，swap 3）500M逻辑分区，EX4日志，/boot 4）其余逻辑分区，EX4日志，/home 5）启动区选/boot
- 用F12来确定启动哪套系统

# 蓝牙鼠标发现问题：

### 1. 在Linux进行蓝牙配对（目的是生成蓝牙默认配置文件）

- 修改/etc/bluetooth/main.conf文件， AutoEnable=false改为AutoEnable=true，保证开机或唤醒后都可以自动连接
- 配对
```
$ sudo -i
# bluetoothctl
[bluetooth]# power off [bluetooth]# power on
[bluetooth]# scan on [bluetooth]# connect XX:XX:XX:XX:XX:XX
[Arc Touch Mouse SE]# trust   [Arc Touch Mouse SE]# pair [Arc Touch Mouse SE]# unblock
[Arc Touch Mouse SE]# power off [bluetooth]# power on

```
### 2. windows下进行蓝牙配对 

 - 蓝牙配对可用，然后启动注册表
 > 下载PSEXEC.exe工具https://technet.microsoft.com/en-us/sysinternals/bb897553，
 > 管理员打执行命令psexec.exe -s -i regedit

 - 蓝牙地址记录
 > 打开注册表如下节点 
\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\BTHPORT\Parameters\Keys\xxxxxxxxxxxx\yyyyyyyyyyyy , 其中xxxxxxxxxxxx\yyyyyyyyyyyy是代表电脑端蓝牙和蓝牙鼠标的地址，不同电脑不同
>> \HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Devices下面name键值打开可以显示蓝牙名蓝牙地址

 > 记录yyyyyyyyyyyy，记录下如下几个参数的值：CSRK, IRK, LTK, EDIV, ERand,其中EDIV和ERand需要10进制

### 3. 修改LINUX的蓝牙配置和WINDOWS一致： 

- SU修改/var/lib/bluetooth/XX:XX:XX:XX:XX:XX/YY:YY:YY:YY:YY:YY的YY为上面记录windows下相同的蓝牙地址的YY（可根据蓝牙地址目录下的info文件中的Name确定）

- SU修改/var/lib/bluetooth/XX:XX:XX:XX:XX:XX/YY:YY:YY:YY:YY:YY/info文件： 
```
[IdentityResolvingKey]Key=5B2C317457D00E6E620138144445F379 #数值等于Windows下的IRK值的大写
[LocalSignatureKey]Key=32E104379C996CEA2C6644447E91A194 # 数值等于Windows下的CSRK值的大写(小米鼠标无此项)
Counter=0
Authenticated=false
[LongTermKey]Key=739D70BA444422221101B2C4BC8127DC # 数值等于Windows下的LTK值的大写
Authenticated=0
EncSize=16  # 这里数值是16
EDiv=42412  # 数值等于Windows下的EDIV值的10进制
Rand=421034444974856015 # 数值等于Windows下的ERand值的10进制
```
- 重启蓝牙服务service bluetooth restart,或者重启机器，之后就能在linux下使用鼠标了。

## 小配置

- WIN+D最小化所有窗口:在设置-外观中设置，勾上Add show desktop icon to the launcher

- 应用市场:kylin软件中心

- 关机或者重启的时候，无法关掉电源问题：
```
    /etc/default/grub文件如下行修改为：
    GRUB_CMDLINE_LINUX="reboot=efi"
    然后执行如下命令：sudo update-grub  

```
- 调整分区空间
> sudo apt-get  install gparted
> 用U盘启动后调整

- 删除无用内核
```
 dpkg  --get-selections | grep linux-image
 uname -a
 sudo apt-get purge linux-image-extra-4.13.0-36-generic
```

- 时间显示不对问题
```
sudo apt-get install ntpdate
sudo ntpdate time.windows.com
　　然后将时间更新到硬件上：
sudo hwclock --localtime --systohc
```

- 共享 sudo gedit /etc/samba/smb.conf
  修改共享目录
  添加samba用户名密码
  
- CMD模式启动
```
关闭
systemctl disable lightdm.service
打开 
sudo ln -s /lib/systemd/system/lightdm.service /etc/systemd/system/display-manager.service
```

- 磁盘占用：pidstat -d 1

每一个虚拟机工程文件里在*.vmx中加上

mainMem.useNamedFile = "FALSE"
